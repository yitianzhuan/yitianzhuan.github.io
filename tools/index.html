<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åœ¨çº¿å·¥å…· - é£å‡‰å‡‰çš„æŠ€æœ¯åšå®¢</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: #1a1a1a;
      color: #e0e0e0;
      line-height: 1.6;
      padding: 20px;
    }

    .tools-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .page-title {
      text-align: center;
      font-size: 36px;
      margin-bottom: 40px;
      color: #4c8eda;
      font-weight: bold;
    }

    .tool-card {
      background: #2d2d2d;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
      border: 1px solid #3d3d3d;
    }

    .tool-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 16px;
      color: #4c8eda;
      border-bottom: 2px solid #4c8eda;
      padding-bottom: 8px;
    }

    .tool-input-group {
      margin-bottom: 16px;
    }

    .tool-label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      color: #e0e0e0;
    }

    .tool-input,
    .tool-textarea,
    .tool-select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #4d4d4d;
      border-radius: 6px;
      background: #1a1a1a;
      color: #e0e0e0;
      font-size: 14px;
      box-sizing: border-box;
    }

    .tool-input:focus,
    .tool-textarea:focus {
      outline: none;
      border-color: #4c8eda;
    }

    .tool-textarea {
      min-height: 120px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      resize: vertical;
    }

    .tool-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    .tool-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      background: #4c8eda;
      color: white;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s;
    }

    .tool-btn:hover {
      opacity: 0.85;
      transform: translateY(-1px);
    }

    .tool-btn.secondary {
      background: #6c757d;
    }

    .tool-btn.success {
      background: #28a745;
    }

    .tool-result {
      margin-top: 16px;
      padding: 12px;
      background: #1f1f1f;
      border-left: 4px solid #4c8eda;
      border-radius: 4px;
      word-break: break-all;
      white-space: pre-wrap;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 13px;
    }

    .timestamp-display {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-top: 16px;
    }

    .timestamp-item {
      padding: 12px;
      background: #1f1f1f;
      border-radius: 6px;
      text-align: center;
      border: 1px solid #3d3d3d;
    }

    .timestamp-value {
      font-size: 18px;
      font-weight: bold;
      color: #4c8eda;
      margin: 8px 0;
    }

    .timestamp-label {
      font-size: 12px;
      color: #b0b0b0;
    }

    .tool-row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .tool-col {
      flex: 1;
      min-width: 250px;
    }

    a.back-link {
      display: inline-block;
      margin-bottom: 20px;
      color: #4c8eda;
      text-decoration: none;
      font-weight: 600;
    }

    a.back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="tools-container">
    <a href="/" class="back-link">â† è¿”å›é¦–é¡µ</a>
    <h1 class="page-title">ğŸ› ï¸ åœ¨çº¿å¼€å‘å·¥å…·</h1>

    <!-- æ—¶é—´æˆ³è½¬æ¢å·¥å…· -->
    <div class="tool-card">
      <div class="tool-title">ğŸ• æ—¶é—´æˆ³è½¬æ¢</div>

      <div class="timestamp-display" id="currentTimestamp">
        <div class="timestamp-item">
          <div class="timestamp-label">å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰</div>
          <div class="timestamp-value" id="tsSeconds">-</div>
        </div>
        <div class="timestamp-item">
          <div class="timestamp-label">å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</div>
          <div class="timestamp-value" id="tsMilliseconds">-</div>
        </div>
        <div class="timestamp-item">
          <div class="timestamp-label">å½“å‰æ—¶é—´</div>
          <div class="timestamp-value" id="tsDateTime">-</div>
        </div>
      </div>

      <div class="tool-input-group" style="margin-top: 20px;">
        <label class="tool-label">æ—¶é—´æˆ³ / æ—¥æœŸæ—¶é—´</label>
        <input type="text" class="tool-input" id="timestampInput" placeholder="è¾“å…¥æ—¶é—´æˆ³ï¼ˆå¦‚ï¼š1609459200ï¼‰æˆ–æ—¥æœŸæ—¶é—´ï¼ˆå¦‚ï¼š2021-01-01 00:00:00ï¼‰">
      </div>

      <div class="tool-buttons">
        <button class="tool-btn" onclick="convertTimestamp()">è½¬æ¢</button>
        <button class="tool-btn secondary" onclick="refreshTimestamp()">åˆ·æ–°å½“å‰æ—¶é—´</button>
      </div>

      <div class="tool-result" id="timestampResult" style="display: none;"></div>
    </div>

    <!-- JSON è§£æå·¥å…· -->
    <div class="tool-card">
      <div class="tool-title">ğŸ“¦ JSON è§£æ/æ ¼å¼åŒ–</div>

      <div class="tool-input-group">
        <label class="tool-label">JSON å­—ç¬¦ä¸²</label>
        <textarea class="tool-textarea" id="jsonInput" placeholder='è¾“å…¥ JSON å­—ç¬¦ä¸²ï¼Œå¦‚ï¼š{"name": "test", "value": 123}'></textarea>
      </div>

      <div class="tool-buttons">
        <button class="tool-btn success" onclick="formatJSON()">æ ¼å¼åŒ–</button>
        <button class="tool-btn" onclick="compressJSON()">å‹ç¼©</button>
        <button class="tool-btn secondary" onclick="copyResult('jsonResult')">å¤åˆ¶ç»“æœ</button>
        <button class="tool-btn secondary" onclick="clearJSON()">æ¸…ç©º</button>
      </div>

      <div class="tool-result" id="jsonResult" style="display: none;"></div>
    </div>

    <!-- URL ç¼–ç /è§£ç å·¥å…· -->
    <div class="tool-card">
      <div class="tool-title">ğŸ”— URL ç¼–ç /è§£ç </div>

      <div class="tool-row">
        <div class="tool-col">
          <div class="tool-input-group">
            <label class="tool-label">åŸå§‹æ–‡æœ¬</label>
            <textarea class="tool-textarea" id="urlInput" placeholder="è¾“å…¥éœ€è¦ç¼–ç çš„ URL æˆ–æ–‡æœ¬" style="min-height: 100px;"></textarea>
          </div>
        </div>
        <div class="tool-col">
          <div class="tool-input-group">
            <label class="tool-label">ç¼–ç /è§£ç ç»“æœ</label>
            <textarea class="tool-textarea" id="urlResult" readonly placeholder="ç»“æœæ˜¾ç¤ºåœ¨è¿™é‡Œ" style="min-height: 100px;"></textarea>
          </div>
        </div>
      </div>

      <div class="tool-buttons">
        <button class="tool-btn success" onclick="encodeURL()">URL ç¼–ç  (Encode)</button>
        <button class="tool-btn" onclick="decodeURL()">URL è§£ç  (Decode)</button>
        <button class="tool-btn secondary" onclick="copyToClipboard('urlResult')">å¤åˆ¶ç»“æœ</button>
      </div>
    </div>

    <!-- Unicode ç¼–ç /è§£ç å·¥å…· -->
    <div class="tool-card">
      <div class="tool-title">ğŸ”£ Unicode ç¼–ç /è§£ç </div>

      <div class="tool-row">
        <div class="tool-col">
          <div class="tool-input-group">
            <label class="tool-label">åŸå§‹æ–‡æœ¬ / Unicode</label>
            <textarea class="tool-textarea" id="unicodeInput" placeholder="è¾“å…¥ä¸­æ–‡æˆ– Unicode (å¦‚ï¼š\u4f60\u597d)" style="min-height: 100px;"></textarea>
          </div>
        </div>
        <div class="tool-col">
          <div class="tool-input-group">
            <label class="tool-label">è½¬æ¢ç»“æœ</label>
            <textarea class="tool-textarea" id="unicodeResult" readonly placeholder="ç»“æœæ˜¾ç¤ºåœ¨è¿™é‡Œ" style="min-height: 100px;"></textarea>
          </div>
        </div>
      </div>

      <div class="tool-buttons">
        <button class="tool-btn success" onclick="encodeUnicode()">è½¬ Unicode (\uXXXX)</button>
        <button class="tool-btn" onclick="decodeUnicode()">Unicode è½¬ä¸­æ–‡</button>
        <button class="tool-btn secondary" onclick="copyToClipboard('unicodeResult')">å¤åˆ¶ç»“æœ</button>
      </div>
    </div>

  </div>

  <script>
    // ==================== æ—¶é—´æˆ³è½¬æ¢å·¥å…· ====================
    function refreshTimestamp() {
      const now = new Date();
      document.getElementById('tsSeconds').textContent = Math.floor(now.getTime() / 1000);
      document.getElementById('tsMilliseconds').textContent = now.getTime();
      document.getElementById('tsDateTime').textContent = now.toLocaleString('zh-CN');
    }

    function convertTimestamp() {
      const input = document.getElementById('timestampInput').value.trim();
      const resultDiv = document.getElementById('timestampResult');
      let result = '';

      if (!input) {
        resultDiv.textContent = 'è¯·è¾“å…¥æ—¶é—´æˆ³æˆ–æ—¥æœŸæ—¶é—´';
        resultDiv.style.display = 'block';
        return;
      }

      // åˆ¤æ–­æ˜¯æ—¶é—´æˆ³è¿˜æ˜¯æ—¥æœŸæ—¶é—´
      if (/^\d+$/.test(input)) {
        // æ˜¯çº¯æ•°å­—ï¼Œä½œä¸ºæ—¶é—´æˆ³å¤„ç†
        const timestamp = parseInt(input);
        const date = new Date(timestamp.toString().length === 10 ? timestamp * 1000 : timestamp);
        result = `æ—¶é—´æˆ³: ${input}\næ—¥æœŸæ—¶é—´: ${date.toLocaleString('zh-CN')}\nISO æ ¼å¼: ${date.toISOString()}`;
      } else {
        // ä½œä¸ºæ—¥æœŸæ—¶é—´å¤„ç†
        const date = new Date(input);
        if (isNaN(date.getTime())) {
          result = 'æ—¥æœŸæ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·ä½¿ç”¨æ ¼å¼å¦‚ï¼š2021-01-01 00:00:00';
        } else {
          const seconds = Math.floor(date.getTime() / 1000);
          const milliseconds = date.getTime();
          result = `æ—¥æœŸæ—¶é—´: ${input}\næ—¶é—´æˆ³ï¼ˆç§’ï¼‰: ${seconds}\næ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰: ${milliseconds}`;
        }
      }

      resultDiv.textContent = result;
      resultDiv.style.display = 'block';
    }

    // ==================== JSON å·¥å…· ====================
    function formatJSON() {
      const input = document.getElementById('jsonInput').value.trim();
      const resultDiv = document.getElementById('jsonResult');

      if (!input) {
        resultDiv.textContent = 'è¯·è¾“å…¥ JSON å­—ç¬¦ä¸²';
        resultDiv.style.display = 'block';
        return;
      }

      try {
        const obj = typeof input === 'object' ? input : JSON.parse(input);
        resultDiv.innerHTML = `<pre style="margin: 0; white-space: pre-wrap;">${JSON.stringify(obj, null, 2)}</pre>`;
        resultDiv.style.display = 'block';
      } catch (e) {
        resultDiv.textContent = 'JSON æ ¼å¼é”™è¯¯: ' + e.message;
        resultDiv.style.display = 'block';
      }
    }

    function compressJSON() {
      const input = document.getElementById('jsonInput').value.trim();
      const resultDiv = document.getElementById('jsonResult');

      if (!input) {
        resultDiv.textContent = 'è¯·è¾“å…¥ JSON å­—ç¬¦ä¸²';
        resultDiv.style.display = 'block';
        return;
      }

      try {
        const obj = JSON.parse(input);
        resultDiv.textContent = JSON.stringify(obj);
        resultDiv.style.display = 'block';
      } catch (e) {
        resultDiv.textContent = 'JSON æ ¼å¼é”™è¯¯: ' + e.message;
        resultDiv.style.display = 'block';
      }
    }

    function clearJSON() {
      document.getElementById('jsonInput').value = '';
      document.getElementById('jsonResult').style.display = 'none';
    }

    // ==================== URL ç¼–ç /è§£ç å·¥å…· ====================
    function encodeURL() {
      const input = document.getElementById('urlInput').value;
      try {
        const encoded = encodeURIComponent(input);
        document.getElementById('urlResult').value = encoded;
      } catch (e) {
        document.getElementById('urlResult').value = 'ç¼–ç å¤±è´¥: ' + e.message;
      }
    }

    function decodeURL() {
      const input = document.getElementById('urlInput').value;
      try {
        const decoded = decodeURIComponent(input);
        document.getElementById('urlResult').value = decoded;
      } catch (e) {
        document.getElementById('urlResult').value = 'è§£ç å¤±è´¥: ' + e.message;
      }
    }

    // ==================== Unicode ç¼–ç /è§£ç å·¥å…· ====================
    function encodeUnicode() {
      const input = document.getElementById('unicodeInput').value;
      try {
        const encoded = input.split('').map(char => {
          const code = char.charCodeAt(0);
          return code > 127 ? '\\u' + code.toString(16).padStart(4, '0') : char;
        }).join('');
        document.getElementById('unicodeResult').value = encoded;
      } catch (e) {
        document.getElementById('unicodeResult').value = 'ç¼–ç å¤±è´¥: ' + e.message;
      }
    }

    function decodeUnicode() {
      const input = document.getElementById('unicodeInput').value;
      try {
        const decoded = input.replace(/\\u[\dA-Fa-f]{4}/g, match => {
          return String.fromCharCode(parseInt(match.replace('\\u', ''), 16));
        });
        document.getElementById('unicodeResult').value = decoded;
      } catch (e) {
        document.getElementById('unicodeResult').value = 'è§£ç å¤±è´¥: ' + e.message;
      }
    }

    // ==================== é€šç”¨å¤åˆ¶åŠŸèƒ½ ====================
    function copyToClipboard(elementId) {
      const element = document.getElementById(elementId);
      const text = element.value || element.textContent;

      navigator.clipboard.writeText(text).then(() => {
        alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
      }).catch(err => {
        // é™çº§æ–¹æ¡ˆ
        element.select();
        document.execCommand('copy');
        alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
      });
    }

    function copyResult(elementId) {
      copyToClipboard(elementId);
    }

    // ==================== é¡µé¢åŠ è½½æ—¶åˆ·æ–°æ—¶é—´æˆ³ ====================
    refreshTimestamp();
    setInterval(refreshTimestamp, 1000);
  </script>
</body>
</html>
